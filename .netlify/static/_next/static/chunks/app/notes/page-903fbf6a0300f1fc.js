(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[568],{1120:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var a=s(5155),n=s(2115),r=s(4269);let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});l.displayName="Textarea"},1186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>f,gC:()=>p,l6:()=>c,yv:()=>m});var a=s(5155),n=s(2115),r=s(5755),l=s(4033),i=s(2108),d=s(5917),o=s(4269);let c=r.bL;r.YJ;let m=r.WT,u=n.forwardRef((e,t)=>{let{className:s,children:n,...i}=e;return(0,a.jsxs)(r.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[n,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.l9.displayName;let h=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=r.PP.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(l.A,{className:"h-4 w-4"})})});x.displayName=r.wn.displayName;let p=n.forwardRef((e,t)=>{let{className:s,children:n,position:l="popper",...i}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{ref:t,className:(0,o.cn)("relative z-[999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-[var(--card)] text-[var(--foreground)] shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...i,children:[(0,a.jsx)(h,{}),(0,a.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===l&&"w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(x,{})]})})});p.displayName=r.UC.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})}).displayName=r.JU.displayName;let f=n.forwardRef((e,t)=>{let{className:s,children:n,...l}=e;return(0,a.jsxs)(r.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(r.p4,{children:n})]})});f.displayName=r.q7.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",s),...n})}).displayName=r.wv.displayName},1834:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,L3:()=>x,c7:()=>h,lG:()=>d,zM:()=>o});var a=s(5155),n=s(2115),r=s(7539),l=s(5229),i=s(4269);let d=r.bL,o=r.l9,c=r.ZL;r.bm;let m=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});m.displayName=r.hJ.displayName;let u=n.forwardRef((e,t)=>{let{className:s,children:n,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...d,children:[n,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.UC.displayName;let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};h.displayName="DialogHeader";let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});x.displayName=r.hE.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...n})}).displayName=r.VY.displayName},3733:(e,t,s)=>{"use strict";s.d(t,{NotesClientPage:()=>C});var a=s(5155),n=s(2115),r=s(63),l=s(6648),i=s(7673),d=s(6948),o=s(3998),c=s(5142),m=s(1120),u=s(1834),h=s(1186),x=s(6651),p=s(6955),f=s(2198),j=s(6191),g=s(5229),N=s(6046),b=s(9715),v=s(9847),y=s(7014);let w=[{id:"user-story",name:"User Story Template",content:"# User Story\n\n## As a [type of user], I want [some goal] so that [some reason].\n\n### Acceptance Criteria\n- [ ] Given [some context]\n- [ ] When [some action is performed]\n- [ ] Then [some result is expected]\n\n### Definition of Done\n- [ ] Code written and tested\n- [ ] Code reviewed by team\n- [ ] Meets accessibility standards\n- [ ] Documentation updated\n\n### INVEST Check\n- **Independent**: Can this story be developed independently?\n- **Negotiable**: Are the details negotiable during development?\n- **Valuable**: Does this provide value to users/stakeholders?\n- **Estimable**: Can the team estimate the effort required?\n- **Small**: Is this small enough to complete in one sprint?\n- **Testable**: Can we test that this story is complete?\n\n### Story Points: [Enter estimate]\n### Priority: [High/Medium/Low]\n### Sprint: [Enter target sprint]"},{id:"epic",name:"Epic Planning Template",content:"# Epic: [Epic Name]\n\n## Overview\n[Brief description of what this epic accomplishes]\n\n## Business Value\n[Why is this epic important? What business value does it provide?]\n\n## User Personas\n[Who are the primary users affected by this epic?]\n\n## Features/Capabilities\n[High-level features this epic will deliver]\n\n## Success Metrics\n[How will we measure success?]\n\n## Dependencies\n[What other epics/features/teams does this depend on?]\n\n## Acceptance Criteria\n- [ ] [High level criteria 1]\n- [ ] [High level criteria 2]\n\n## Stories Breakdown\n[List of user stories that make up this epic]\n\n## Timeline\n- **Target Start**: [Date]\n- **Target Completion**: [Date]\n- **Key Milestones**: [Important dates]\n\n## Risks & Assumptions\n[What could go wrong? What are we assuming?]"},{id:"retrospective",name:"Sprint Retrospective Template",content:"# Sprint [X] Retrospective\n\n**Date**: [Date]\n**Participants**: [Team members present]\n**Sprint Goal**: [What was the sprint goal?]\n\n## What Went Well? \uD83D\uDFE2\n[Things the team did well this sprint]\n\n## What Could Be Improved? \uD83D\uDFE1\n[Areas where the team can improve]\n\n## What Didn't Go Well? \uD83D\uDD34\n[Problems, blockers, or issues encountered]\n\n## Action Items \uD83C\uDFAF\n- [ ] [Specific action item with owner and due date]\n- [ ] [Another action item]\n\n## Metrics\n- **Sprint Goal Achievement**: [Met/Partially Met/Not Met]\n- **Velocity**: [Story points completed]\n- **Team Satisfaction**: [1-5 scale]\n\n## Next Sprint Focus\n[What should the team focus on in the next sprint?]"}];function C(e){let{initialNotes:t}=e,[s,C]=(0,n.useState)(t),[S,k]=(0,n.useState)([]),[D,A]=(0,n.useState)(!1),[E,R]=(0,n.useState)(!1),[W,T]=(0,n.useState)(""),[F,M]=(0,n.useState)(""),[Z,_]=(0,n.useState)(""),[z,U]=(0,n.useState)("no-folder"),[L,P]=(0,n.useState)(""),[V,B]=(0,n.useState)(""),[$,I]=(0,n.useState)(!1),{user:H}=(0,y.A)(),q=(0,r.useRouter)(),G=(0,l.S)(),O=s.length,J=e=>{if(_(e),"blank"===e)T(""),M("");else{let t=w.find(t=>t.id===e);t&&(T(t.name),M(t.content))}},Y=async()=>{if(!H)return;let{data:e,error:t}=await G.from("folders").select("*").eq("user_id",H.id).order("name",{ascending:!0});t?console.error("Error fetching folders:",t):k(e||[])},K=async()=>{if(H&&V.trim()){I(!0);try{let{data:e,error:t}=await G.from("folders").insert([{name:V.trim(),user_id:H.id}]).select().single();t?console.error("Error creating folder:",t):(k(t=>[...t,e]),B(""),R(!1))}catch(e){console.error("Error creating folder:",e)}finally{I(!1)}}},X=async()=>{if(H&&W.trim()&&F.trim()){I(!0);try{let{data:e,error:t}=await G.from("notes").insert([{title:W.trim(),content:F.trim(),template:"blank"===Z?null:Z||null,folder_id:"no-folder"===z?null:z||null,custom_date:L||null,user_id:H.id}]).select().single();t?console.error("Error creating note:",t):(C([e,...s]),T(""),M(""),_(""),U("no-folder"),P(""),A(!1),q.refresh())}catch(e){console.error("Error creating note:",e)}finally{I(!1)}}};return(0,n.useEffect)(()=>{Y()},[H]),(0,a.jsx)(i.MainLayout,{children:(0,a.jsxs)("div",{className:"p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Notes"}),(0,a.jsx)("p",{className:"text-[var(--muted-foreground)] mt-1",children:"Create and manage your SAFe templates and meeting notes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(o.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Search"]}),(0,a.jsxs)(o.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Filter"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(u.lG,{open:E,onOpenChange:R,children:[(0,a.jsx)(u.zM,{asChild:!0,children:(0,a.jsxs)(o.$,{variant:"outline",children:[(0,a.jsx)(f.A,{className:"w-4 h-4 mr-2"}),"New Folder"]})}),(0,a.jsxs)(u.Cf,{className:"max-w-md",children:[(0,a.jsx)(u.c7,{children:(0,a.jsx)(u.L3,{children:"Create New Folder"})}),(0,a.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Folder Name"}),(0,a.jsx)(c.p,{value:V,onChange:e=>B(e.target.value),placeholder:"Enter folder name",onKeyDown:e=>"Enter"===e.key&&K()})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(o.$,{variant:"outline",onClick:()=>{B(""),R(!1)},children:"Cancel"}),(0,a.jsx)(o.$,{onClick:K,disabled:!V.trim()||$,children:$?"Creating...":"Create Folder"})]})]})]})]}),(0,a.jsxs)(u.lG,{open:D,onOpenChange:A,children:[(0,a.jsx)(u.zM,{asChild:!0,children:(0,a.jsxs)(o.$,{children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"New Note"]})}),(0,a.jsxs)(u.Cf,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)(u.c7,{children:(0,a.jsx)(u.L3,{children:"Create New Note"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Use a SAFe Template (optional)"}),(0,a.jsxs)(h.l6,{value:Z,onValueChange:J,children:[(0,a.jsx)(h.bq,{children:(0,a.jsx)(h.yv,{placeholder:"Choose a template or start blank"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"blank",children:"Blank Note"}),w.map(e=>(0,a.jsx)(h.eb,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Folder (optional)"}),(0,a.jsxs)(h.l6,{value:z,onValueChange:U,children:[(0,a.jsx)(h.bq,{children:(0,a.jsx)(h.yv,{placeholder:"Select a folder or leave blank"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"no-folder",children:"No Folder"}),S.map(e=>(0,a.jsx)(h.eb,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Date (optional)"}),(0,a.jsx)(c.p,{type:"date",value:L,onChange:e=>P(e.target.value),placeholder:"Select a date for this note"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Title"}),(0,a.jsx)(c.p,{value:W,onChange:e=>T(e.target.value),placeholder:"Enter note title..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"Content"}),(0,a.jsx)(m.T,{value:F,onChange:e=>M(e.target.value),placeholder:"Start writing your note...",rows:15,className:"font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,a.jsxs)(o.$,{variant:"outline",onClick:()=>{T(""),M(""),_(""),U(""),P(""),A(!1)},children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(o.$,{onClick:X,disabled:$||!W.trim()||!F.trim(),children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-2"}),$?"Creating...":"Create Note"]})]})]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsx)(d.ZB,{className:"text-sm font-medium text-[var(--muted-foreground)]",children:"Total Notes"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:O})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsx)(d.ZB,{className:"text-sm font-medium text-[var(--muted-foreground)]",children:"Template Notes"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.filter(e=>e.template).length})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsx)(d.ZB,{className:"text-sm font-medium text-[var(--muted-foreground)]",children:"Retrospectives"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.filter(e=>"retrospective"===e.template).length})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{className:"pb-2",children:(0,a.jsx)(d.ZB,{className:"text-sm font-medium text-[var(--muted-foreground)]",children:"User Stories"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"text-2xl font-bold",children:s.filter(e=>"user-story"===e.template).length})})]})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{children:"SAFe Templates"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:w.map(e=>(0,a.jsx)(d.Zp,{className:"border-2 border-dashed border-[var(--border)] hover:border-[var(--primary-green)] transition-colors",children:(0,a.jsxs)(d.Wu,{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-medium mb-2",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-[var(--muted-foreground)] mb-3",children:["user-story"===e.id&&"Standard user story with INVEST criteria","epic"===e.id&&"Epic planning and breakdown template","retrospective"===e.id&&"Sprint retrospective meeting notes"]}),(0,a.jsx)(o.$,{size:"sm",variant:"outline",onClick:()=>{J(e.id),A(!0)},children:"Use Template"})]})},e.id))})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{children:"Recent Notes"})}),(0,a.jsx)(d.Wu,{children:0===O?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(b.A,{className:"w-12 h-12 text-[var(--muted-foreground)] mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No notes yet"}),(0,a.jsx)("p",{className:"text-[var(--muted-foreground)] mb-4",children:"Create your first note to get started with your SAFe documentation."}),(0,a.jsxs)(o.$,{onClick:()=>A(!0),children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Create First Note"]})]}):(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>{var t,s;return(0,a.jsx)(d.Zp,{className:"cursor-pointer hover:bg-[var(--muted)] transition-colors",children:(0,a.jsx)(d.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium mb-1",children:e.title}),(0,a.jsxs)("p",{className:"text-sm text-[var(--muted-foreground)] mb-2 line-clamp-3",children:[e.content.substring(0,200),"..."]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-[var(--muted-foreground)] flex-wrap",children:[(0,a.jsxs)("span",{children:["Updated ",new Date(e.updated_at).toLocaleDateString()]}),e.custom_date&&(0,a.jsxs)("span",{className:"flex items-center",children:["\uD83D\uDCC5 ",new Date(e.custom_date).toLocaleDateString()]}),e.folder_id&&(0,a.jsxs)("span",{className:"bg-[var(--accent-blue)] text-white px-2 py-1 rounded flex items-center",children:[(0,a.jsx)(v.A,{className:"w-3 h-3 mr-1"}),(null==(t=S.find(t=>t.id===e.folder_id))?void 0:t.name)||"Unknown Folder"]}),e.template&&(0,a.jsx)("span",{className:"bg-[var(--primary-green)] text-white px-2 py-1 rounded",children:(null==(s=w.find(t=>t.id===e.template))?void 0:s.name)||e.template})]})]}),(0,a.jsx)(o.$,{size:"sm",variant:"outline",children:"Open"})]})})},e.id)})})})]})]})})}},4444:(e,t,s)=>{Promise.resolve().then(s.bind(s,3733))},6046:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])}},e=>{e.O(0,[954,545,224,478,539,673,441,255,358],()=>e(e.s=4444)),_N_E=e.O()}]);