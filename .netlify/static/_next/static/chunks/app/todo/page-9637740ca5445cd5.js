(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[547],{1120:(e,t,s)=>{"use strict";s.d(t,{T:()=>d});var a=s(5155),l=s(2115),r=s(4269);let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});d.displayName="Textarea"},1186:(e,t,s)=>{"use strict";s.d(t,{bq:()=>x,eb:()=>f,gC:()=>p,l6:()=>o,yv:()=>m});var a=s(5155),l=s(2115),r=s(5755),d=s(4033),n=s(2108),i=s(5917),c=s(4269);let o=r.bL;r.YJ;let m=r.WT,x=l.forwardRef((e,t)=>{let{className:s,children:l,...n}=e;return(0,a.jsxs)(r.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...n,children:[l,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.l9.displayName;let h=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=r.PP.displayName;let u=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})});u.displayName=r.wn.displayName;let p=l.forwardRef((e,t)=>{let{className:s,children:l,position:d="popper",...n}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{ref:t,className:(0,c.cn)("relative z-[999] max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-[var(--card)] text-[var(--foreground)] shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:d,...n,children:[(0,a.jsx)(h,{}),(0,a.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===d&&"w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,a.jsx)(u,{})]})})});p.displayName=r.UC.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=r.JU.displayName;let f=l.forwardRef((e,t)=>{let{className:s,children:l,...d}=e;return(0,a.jsxs)(r.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),(0,a.jsx)(r.p4,{children:l})]})});f.displayName=r.q7.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=r.wv.displayName},1834:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>x,L3:()=>u,c7:()=>h,lG:()=>i,zM:()=>c});var a=s(5155),l=s(2115),r=s(7539),d=s(5229),n=s(4269);let i=r.bL,c=r.l9,o=r.ZL;r.bm;let m=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});m.displayName=r.hJ.displayName;let x=l.forwardRef((e,t)=>{let{className:s,children:l,...i}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(r.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[l,(0,a.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.UC.displayName;let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};h.displayName="DialogHeader";let u=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});u.displayName=r.hE.displayName,l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)(r.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...l})}).displayName=r.VY.displayName},4785:(e,t,s)=>{Promise.resolve().then(s.bind(s,9992))},6485:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6983:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},9992:(e,t,s)=>{"use strict";s.d(t,{TodoClientPage:()=>M});var a=s(5155),l=s(2115),r=s(63),d=s(6648),n=s(7673),i=s(6948),c=s(3998),o=s(5142),m=s(1120),x=s(1834),h=s(1186),u=s(1647),p=s(1847);let f=(0,p.A)("brain",[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]]);var g=s(9715);let j=(0,p.A)("sticky-note",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);var N=s(6191),y=s(6651),b=s(1194);let v=(0,p.A)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);var w=s(6983),C=s(6485),k=s(7014);function M(e){let{initialTodos:t}=e,[s,p]=(0,l.useState)(t),[M,A]=(0,l.useState)(!1),[S,T]=(0,l.useState)(!1),[_,E]=(0,l.useState)(""),[R,L]=(0,l.useState)("all"),[z,q]=(0,l.useState)("all"),[P,Z]=(0,l.useState)([]),[D,$]=(0,l.useState)(!1),[I,V]=(0,l.useState)([]),[O,B]=(0,l.useState)([]),[H,J]=(0,l.useState)(""),[W,F]=(0,l.useState)(""),[U,G]=(0,l.useState)("Medium"),[Y,K]=(0,l.useState)(""),[Q,X]=(0,l.useState)(!1),{user:ee}=(0,k.A)();(0,r.useRouter)();let et=(0,d.S)(),es=s.length,ea=s.filter(e=>"completed"===e.status).length,el=s.filter(e=>"pending"===e.status).length,er=s.filter(e=>"in_progress"===e.status).length;(0,l.useEffect)(()=>{ee&&S&&ed()},[ee,S]);let ed=async()=>{if(ee)try{let[e,t]=await Promise.all([et.from("documents").select("id, title, content").eq("user_id",ee.id).order("updated_at",{ascending:!1}).limit(20),et.from("notes").select("id, title, content").eq("user_id",ee.id).order("updated_at",{ascending:!1}).limit(20)]);e.data&&V(e.data),t.data&&B(t.data)}catch(e){console.error("Error loading content:",e)}},en=async e=>{$(!0),Z([]);try{let t=[];for(let s of e){let e=await fetch("/api/detect-todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:"Title: ".concat(s.title,"\n\nContent: ").concat(s.content),sourceId:s.id,sourceType:s.content?"document":"note"})});if(e.ok){let a=await e.json();a.todos&&a.todos.length>0&&t.push(...a.todos.map(e=>({...e,sourceTitle:s.title,sourceId:s.id})))}}Z(t)}catch(e){console.error("Error detecting todos:",e)}finally{$(!1)}},ei=async e=>{try{let t=await fetch("/api/create-todos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({todos:e})});if(t.ok){let e=await t.json();p(t=>[...e.todos,...t]),Z([]),T(!1)}}catch(e){console.error("Error creating detected todos:",e)}},ec=s.filter(e=>{let t=e.title.toLowerCase().includes(_.toLowerCase())||e.description&&e.description.toLowerCase().includes(_.toLowerCase()),s="all"===R||e.status===R,a="all"===z||e.priority===z;return t&&s&&a}),eo=async()=>{if(ee&&H.trim()){X(!0);try{let{data:e,error:t}=await et.from("todos").insert([{title:H.trim(),description:W.trim()||null,priority:U,due_date:Y||null,source:"manual",user_id:ee.id}]).select().single();t?console.error("Error creating todo:",t):(p([e,...s]),J(""),F(""),G("Medium"),K(""),A(!1))}catch(e){console.error("Error creating todo:",e)}finally{X(!1)}}},em=async(e,t)=>{try{let{data:a,error:l}=await et.from("todos").update({status:t}).eq("id",e).eq("user_id",null==ee?void 0:ee.id).select().single();l?console.error("Error updating todo:",l):p(s.map(t=>t.id===e?a:t))}catch(e){console.error("Error updating todo:",e)}},ex=e=>{switch(e){case"High":return"bg-red-100 text-red-800 hover:bg-red-200";case"Medium":return"bg-yellow-100 text-yellow-800 hover:bg-yellow-200";case"Low":return"bg-green-100 text-green-800 hover:bg-green-200";default:return"bg-gray-100 text-gray-800 hover:bg-gray-200"}},eh=e=>new Date(e).toLocaleDateString();return(0,a.jsx)(n.MainLayout,{children:(0,a.jsx)("div",{className:"flex-1 p-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Todo Management"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your tasks and track progress"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(x.lG,{open:S,onOpenChange:T,children:[(0,a.jsx)(x.zM,{asChild:!0,children:(0,a.jsxs)(c.$,{variant:"outline",children:[(0,a.jsx)(f,{className:"w-4 h-4 mr-2"}),"Smart Detection"]})}),(0,a.jsxs)(x.Cf,{className:"max-w-4xl",children:[(0,a.jsx)(x.c7,{children:(0,a.jsx)(x.L3,{children:"Smart Todo Detection"})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"AI will analyze your recent documents and notes to detect actionable todo items."}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold mb-3 flex items-center",children:[(0,a.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Recent Documents (",I.length,")"]}),(0,a.jsxs)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[I.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"doc-".concat(e.id),defaultChecked:!0,className:"rounded"}),(0,a.jsx)("label",{htmlFor:"doc-".concat(e.id),className:"text-sm truncate flex-1",title:e.title,children:e.title})]},e.id)),0===I.length&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No documents found"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold mb-3 flex items-center",children:[(0,a.jsx)(j,{className:"w-4 h-4 mr-2"}),"Recent Notes (",O.length,")"]}),(0,a.jsxs)("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[O.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"note-".concat(e.id),defaultChecked:!0,className:"rounded"}),(0,a.jsx)("label",{htmlFor:"note-".concat(e.id),className:"text-sm truncate flex-1",title:e.title,children:e.title})]},e.id)),0===O.length&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"No notes found"})]})]})]}),P.length>0&&(0,a.jsxs)("div",{className:"border-t pt-6",children:[(0,a.jsxs)("h3",{className:"font-semibold mb-3",children:["Detected Todos (",P.length,")"]}),(0,a.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:P.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"detected-".concat(t),defaultChecked:!0,className:"mt-1 rounded"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{htmlFor:"detected-".concat(t),className:"font-medium text-sm block",children:e.title}),e.description&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(u.E,{className:ex(e.priority),variant:"outline",children:e.priority}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:['from "',e.sourceTitle,'"']})]})]})]},t))})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(c.$,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[0===P.length&&(0,a.jsx)(c.$,{onClick:()=>{en([...I.filter((e,t)=>{var s;return null==(s=document.getElementById("doc-".concat(I[t].id)))?void 0:s.checked}),...O.filter((e,t)=>{var s;return null==(s=document.getElementById("note-".concat(O[t].id)))?void 0:s.checked})])},disabled:D||0===I.length&&0===O.length,children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Analyzing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f,{className:"w-4 h-4 mr-2"}),"Detect Todos"]})}),P.length>0&&(0,a.jsx)(c.$,{onClick:()=>{ei(P.filter((e,t)=>{var s;return null==(s=document.getElementById("detected-".concat(t)))?void 0:s.checked}))},children:"Create Selected Todos"})]})]})]})]})]}),(0,a.jsxs)(x.lG,{open:M,onOpenChange:A,children:[(0,a.jsx)(x.zM,{asChild:!0,children:(0,a.jsxs)(c.$,{children:[(0,a.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"New Todo"]})}),(0,a.jsxs)(x.Cf,{className:"max-w-2xl",children:[(0,a.jsx)(x.c7,{children:(0,a.jsx)(x.L3,{children:"Create New Todo"})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Title *"}),(0,a.jsx)(o.p,{placeholder:"Enter todo title...",value:H,onChange:e=>J(e.target.value),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Description"}),(0,a.jsx)(m.T,{placeholder:"Enter todo description...",value:W,onChange:e=>F(e.target.value),rows:4,className:"mt-1"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Priority"}),(0,a.jsxs)(h.l6,{value:U,onValueChange:e=>G(e),children:[(0,a.jsx)(h.bq,{className:"mt-1",children:(0,a.jsx)(h.yv,{})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"Low",children:"Low"}),(0,a.jsx)(h.eb,{value:"Medium",children:"Medium"}),(0,a.jsx)(h.eb,{value:"High",children:"High"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Due Date"}),(0,a.jsx)(o.p,{type:"date",value:Y,onChange:e=>K(e.target.value),className:"mt-1"})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,a.jsx)(c.$,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),(0,a.jsx)(c.$,{onClick:eo,disabled:Q||!H.trim(),children:Q?"Creating...":"Create Todo"})]})]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-base",children:"Total Todos"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("p",{className:"text-2xl font-bold",children:es})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-base",children:"Pending"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-600",children:el})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-base",children:"In Progress"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:er})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{className:"pb-2",children:(0,a.jsx)(i.ZB,{className:"text-base",children:"Completed"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:ea})})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsx)("div",{className:"flex-1 min-w-64",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),(0,a.jsx)(o.p,{placeholder:"Search todos...",value:_,onChange:e=>E(e.target.value),className:"pl-9"})]})}),(0,a.jsxs)(h.l6,{value:R,onValueChange:L,children:[(0,a.jsx)(h.bq,{className:"w-40",children:(0,a.jsx)(h.yv,{placeholder:"Status"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"all",children:"All Status"}),(0,a.jsx)(h.eb,{value:"pending",children:"Pending"}),(0,a.jsx)(h.eb,{value:"in_progress",children:"In Progress"}),(0,a.jsx)(h.eb,{value:"completed",children:"Completed"}),(0,a.jsx)(h.eb,{value:"cancelled",children:"Cancelled"})]})]}),(0,a.jsxs)(h.l6,{value:z,onValueChange:q,children:[(0,a.jsx)(h.bq,{className:"w-40",children:(0,a.jsx)(h.yv,{placeholder:"Priority"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"all",children:"All Priority"}),(0,a.jsx)(h.eb,{value:"High",children:"High"}),(0,a.jsx)(h.eb,{value:"Medium",children:"Medium"}),(0,a.jsx)(h.eb,{value:"Low",children:"Low"})]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:0===ec.length?(0,a.jsx)(i.Zp,{children:(0,a.jsxs)(i.Wu,{className:"text-center py-12",children:[(0,a.jsx)(b.A,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:0===s.length?"No todos yet":"No todos match your filters"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:0===s.length?"Create your first todo to get started":"Try adjusting your search or filters"})]})}):ec.map(e=>(0,a.jsx)(i.Zp,{className:"hover:shadow-sm transition-shadow",children:(0,a.jsx)(i.Wu,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,a.jsxs)(u.E,{className:ex(e.priority),children:[(0,a.jsx)(v,{className:"w-3 h-3 mr-1"}),e.priority]}),(0,a.jsx)(u.E,{className:(e=>{switch(e){case"completed":return"bg-green-100 text-green-800 hover:bg-green-200";case"in_progress":return"bg-blue-100 text-blue-800 hover:bg-blue-200";case"pending":default:return"bg-gray-100 text-gray-800 hover:bg-gray-200";case"cancelled":return"bg-red-100 text-red-800 hover:bg-red-200"}})(e.status),children:e.status.replace("_"," ")})]}),e.description&&(0,a.jsx)("p",{className:"text-muted-foreground mb-3",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(w.A,{className:"w-4 h-4"}),"Created ",eh(e.created_at)]}),e.due_date&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(C.A,{className:"w-4 h-4"}),"Due ",eh(e.due_date)]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:["pending"===e.status&&(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>em(e.id,"in_progress"),children:"Start"}),"in_progress"===e.status&&(0,a.jsx)(c.$,{size:"sm",onClick:()=>em(e.id,"completed"),children:"Complete"}),("pending"===e.status||"in_progress"===e.status)&&(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>em(e.id,"cancelled"),children:"Cancel"}),"completed"===e.status&&(0,a.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>em(e.id,"pending"),children:"Reopen"})]})]})})},e.id))})]})})})}}},e=>{e.O(0,[954,545,224,478,539,673,441,255,358],()=>e(e.s=4785)),_N_E=e.O()}]);